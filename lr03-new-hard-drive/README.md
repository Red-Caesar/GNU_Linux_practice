## Лабораторная работа №2
* * *
**Цель:** изучить создание разметки на новом жестком диске.

**Задачи данной работы:**
1. Добавление блочного устройства в виртуальную машину (подключение нового диска).
2. Разметка диска.
3. Создание файловой системы.
4. Монтирование/Размонтирование вручную.
5. Монтирование через файл fstab.

**Ход работы:**
В настройках виртуальной машины мы подключаем новый жесткий диск на 9гб.
Теперь в терминале с помощью команды `~# fdisk -l` мы можем посмотреть на подключенные диски:
![ccb4a8a6aad20e34a8382a9094889134.png](:/1fef70215de64135ada5e7a93dcbd307)

- [x] Добавление блочного устройства в виртуальную машину (подключение нового диска).

Созданный диск на 9гб ничего дальше после размера не имеет, т.к. на нем ничего нет даже разметки.
С помощью команды `~# fdisk /dev/sdb` мы можем посмотреть разметку диска, а также создать ее. 
Эта интерактивная команда, пройдясь по которой мы создаем следующую разметку:
![308bba6da9b421d61efa30f0a219beb2.png](:/8de87ceb76124321a6d1113208c52291)

Причем если наш виртуальный каталок `/dev/` раньше выглядел вот так:
![9fe02994439b2bb0b0085267269a595f.png](:/41ee2557d0ee4d0e9b848c47567283a9)

То теперь он выглядет так:
![18b60b061058f3b301c03de303115de6.png](:/8e9782638f294bd98aebd0ec5f47308e)

Т.е. раньше система хоть и опознавала наличие блочного устройства, но прочитать его не могла, т.к. там не было разметки.

- [x] Разметка диска.

Теперь нужно создать файловую систему с помощью команды `~# mkfs.ext4 /dev/sdb1`
И смонтировать ее в удобное нам место командой `~# mount`
Командой `~# df -h` убеждаемся, что все смонтировано:
![ee7cc80e6630ce95b2456b0baa53aad5.png](:/aa8f9d0033ca45949028343ec055a7ea)

- [x] Монтирование вручную.

Однако, если перезагрузить машину, то монтирования не будет, и его придется делать заново. Чтобы этого избежать, мы изменим файл `/etc/fstab`, чтобы монтирование происходило при загрузке системы.
Вот так выглядит теперь этот файл:
![87fa7f7df15067bc9bb989ccb9977b79.png](:/ac130a7436ab43a5ad0a39976af3ddd4)

UUID помогает узнать нам команда `blkid`

- [x] Монтирование через файл fstab.

**Итог после перезагрузки:**
![59c126a1d94bc93a3174785b570a958c.png](:/d9069c5ecc434025a2c66c02a73d79d4)
